# Session: 2026-01-28

## Goals
- Reduce Clawdbot API costs (was spending $10-20/day on Opus)
- Harden security on the Clawdbot VPS
- Fix Brave Search API integration

## Accomplishments
- Switched primary model from Opus to Kimi K2.5 via Moonshot API (~30x cost reduction)
- Configured fallbacks: Opus and Ollama qwen2.5-coder:14b
- Hardened exec security: allowlist mode with only `git` and `gh` allowed
- Changed tool profile to `full` to include web tools
- Fixed web_search: Kimi was using wrong Brave API endpoint via curl
- Added instructions to TOOLS.md to use native `web_search` tool
- Created rsync backup of VPS to `~/Backups/clawdbot-vps/2026-01-28/`

## Files Changed (on VPS 162.243.187.134)
- `/root/.clawdbot/clawdbot.json` - model config, security settings, Brave API key
- `/root/clawd/TOOLS.md` - added web_search usage instructions

## Backups Created
- `~/Backups/clawdbot-vps/2026-01-28/.clawdbot/` (4.8 MB)
- `~/Backups/clawdbot-vps/2026-01-28/clawd/` (888 KB)

## Key Config (VPS)
```json
{
  "agents.defaults.model": {
    "primary": "moonshot/kimi-k2.5",
    "fallbacks": ["anthropic/claude-opus-4-5", "ollama/qwen2.5-coder:14b"]
  },
  "tools.profile": "full",
  "tools.exec.security": "allowlist",
  "tools.exec.safeBins": ["git", "gh"],
  "tools.web.search.enabled": true
}
```

## Next Steps
- Monitor Kimi K2.5 performance vs Opus for code quality
- Consider upgrading Clawdbot to version that supports `alsoAllow` for more granular tool control
- Track cost savings over next week
- If web_search issues recur, update TOOLS.md or switch to Opus for search-heavy tasks
